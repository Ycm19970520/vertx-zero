{
    "linkageAttachment": {
        "config": {
            "respect": "io.vertx.tp.workflow.uca.modeling.RespectFile",
            "query": {
                "modelId": "w.ticket",
                "modelCategory": "`${flowDefinitionKey}`"
            }
        }
    },
    "linkageTicket": {
        "config": {
            "query": {
                "sourceType": "w.ticket",
                "targetType": "w.ticket"
            }
        },
        "message": {
            "window": "选择关联工单",
            "add": "添加关联工单",
            "search": "搜索工单：",
            "tip": "（默认只有`已完成`的工单可以被选择关联，若要关联其他工单，请联系管理员。）",
            "failure": "请选择您要添加的工单信息，您未选择任何工单！",
            "success": "您的关联工单信息已成功保存！"
        },
        "editor": {
            "selection": {
                "phase": [
                    "FINISHED",
                    "CANCELED"
                ]
            },
            "tree": {
                "type": "zero.service.catalog",
                "title": "服务目录",
                "config": {
                    "parent": "parentId",
                    "title": "name",
                    "text": "name",
                    "value": "code"
                },
                "condition": "catalog,i"
            },
            "initial": {
                "alias": "工单关联记录",
                "type": "TICKET",
                "linkType": "TICKET-TICKET",
                "region": "process.file.management",
                "sourceType": "w.ticket",
                "targetType": "w.ticket"
            },
            "search": {
                "condition": [
                    "serial,c",
                    "title,c"
                ],
                "placeholder": "单号/标题"
            },
            "ajax": {
                "uri": "/api/up/flow-ticket",
                "method": "POST"
            }
        },
        "table": {
            "columns": [
                {
                    "metadata": "serial,单号",
                    "width": 120
                },
                "title,工单标题",
                {
                    "metadata": "catalog,类型,DATUM",
                    "$datum": "source=service.catalog,value=code,display=name"
                },
                {
                    "metadata": "phase,状态,RENDERS",
                    "width": 100,
                    "config": {
                        "items": [
                            "INIT,填写申请:edit,16:#3053EB",
                            "DRAFT,草稿:form,16:#EE3B3B",
                            "PENDING,等待处理:undo,16:#EE3B3B",
                            "FINISHED,已完成:check-circle,16:#58c623",
                            "ACCEPTED,已接受:info-circle,16:#58c623",
                            "REJECTED,已拒绝:redo,16:#CD1076",
                            "CANCELED,已撤销:stop,16:#CD1076",
                            "EXPIRED,已超时:clock-circle,16:#CD1076"
                        ]
                    }
                },
                {
                    "metadata": "openBy,制单人,USER",
                    "$config": {
                        "uri": "/api/user/:key",
                        "field": "realname",
                        "icon": "user,#00BF9F"
                    }
                },
                {
                    "metadata": "openAt,制单时间,DATE",
                    "$format": "YYYY-MM-DD HH:mm"
                }
            ]
        }
    },
    "linkageAsset": {
        "config": {
            "query": {
                "sourceType": "w.ticket",
                "targetType": "ci.device"
            }
        },
        "message": {
            "window": "选择关联资产",
            "add": "添加关联资产",
            "search": "搜索资产：",
            "tip": "（默认只有`未入库`的资产可以被选择关联，若要关联其他资产，请联系管理员。）",
            "failure": "请选择您要添加的资产信息，您未选择任何资产！",
            "success": "您的关联资产信息已成功保存！"
        },
        "editor": {
            "selection": {
                "status": [
                    "Pending"
                ]
            },
            "tree": {
                "type": "ci.type",
                "title": "资产分类",
                "config": {
                    "parent": "parentId",
                    "title": "name",
                    "text": "name",
                    "root": 2
                },
                "condition": "categoryThird,i"
            },
            "initial": {
                "alias": "资产关联记录",
                "type": "TICKET",
                "linkType": "TICKET-ASSERT",
                "region": "process.asset.income",
                "sourceType": "w.ticket",
                "targetType": "ci.device"
            },
            "search": {
                "condition": [
                    "code,c",
                    "name,c"
                ],
                "placeholder": "资产编号/名称"
            },
            "ajax": {
                "uri": "/api/xc/ci.device/search",
                "method": "POST",
                "error": {
                    "message": "资产模块未启用",
                    "description": [
                        "对不起，您的系统并未启用`资产库`模块，所以无法执行资产关联操作。",
                        "如果想要使用`资产库`，则您需要联系实施人员配置该模块。",
                        "关联资产是所有工单所需的核心模块，为流程专用的统一配置模块。"
                    ]
                }
            }
        },
        "table": {
            "columns": [
                {
                    "metadata": "code,资产编号",
                    "width": 120
                },
                "name,资产名称",
                {
                    "metadata": "categorySecond,资产分类,DATUM",
                    "$datum": "source=data.category,value=key,display=name"
                },
                {
                    "metadata": "categoryThird,资产子类,DATUM",
                    "$datum": "source=data.category,value=key,display=name"
                },
                {
                    "metadata": "status,资产状态,DATUM",
                    "$datum": "source=ci.status,value=code,display=name"
                },
                {
                    "metadata": "level,资产等级,DATUM",
                    "$datum": "source=ci.level,value=code,display=name"
                }
            ]
        }
    }
}