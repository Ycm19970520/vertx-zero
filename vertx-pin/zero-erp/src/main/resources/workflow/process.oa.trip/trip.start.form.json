{
    "initial": {
        "catalog": "UNIQUE:service.catalog,code,code=FIX:process.oa.trip"
    },
    "hidden": [
        "requestBy"
    ],
    "segment": {
        "TICKET": [
            [
                {
                    "metadata": "requestName,出差人,8,,aiListSelector,placeholder=（谁申请出差）",
                    "optionJsx.config": {
                        "ajax": {
                            "metadata": "POST,/api/user/search,1,10,sorter=createdAt`ASC",
                            "params.criteria": {
                                "sigma": "PROP:app.sigma",
                                "key,<>": "USER:key",
                                "": true
                            }
                        },
                        "linker": {
                            "key": "requestBy",
                            "realname": "requestName",
                            "workNumber": "requestNo",
                            "mobile": "requestMobile"
                        },
                        "table": {
                            "columns": [
                                {
                                    "title": "部门",
                                    "dataIndex": "deptId",
                                    "$render": "USER",
                                    "$config": {
                                        "uri": "/api/dept/:key",
                                        "field": "name",
                                        "icon": false
                                    },
                                    "$empty": "（无）"
                                },
                                "workNumber,员工号",
                                "username,登录账号",
                                "realname,姓名",
                                "workPhone,工作电话"
                            ]
                        },
                        "validation": "请选择处理人！",
                        "window": "选择处理人,选择,关闭,false,800,false",
                        "search": {
                            "username,c": "账号",
                            "realname,c": "姓名"
                        }
                    },
                    "optionJsx.allowClear": true
                },
                "requestNo,出差人工号,8,,,readOnly=true",
                "requestMobile,出差人电话,8,,,readOnly=true"
            ],
            [
                {
                    "metadata": "startAt,开始时间,8,,aiDatePicker",
                    "optionJsx.format": "YYYY-MM-DD",
                    "optionJsx.disabledDate": "propFromNow",
                    "moment": true
                },
                {
                    "metadata": "endAt,结束时间,8,,aiDatePicker",
                    "optionJsx.format": "YYYY-MM-DD",
                    "optionJsx.disabledDate": "propFromNow",
                    "moment": true
                },
                {
                    "metadata": "days,天数,8,,,readOnly=true"
                }
            ],
            [
                {
                    "metadata": "tripProvince,出差省,8,,aiSelect",
                    "optionJsx.config.datum": "source=lbs.state,value=key,label=name",
                    "optionJsx.depend.impact": {
                        "reset": [
                            "tripCity"
                        ]
                    }
                },
                {
                    "metadata": "tripCity,出差市,8,,aiSelect",
                    "optionJsx.config.datum": "source=lbs.city,value=key,label=name",
                    "optionJsx.config.cascade": {
                        "source": "stateId",
                        "target": "FORM:tripProvince"
                    }
                }
            ],
            [
                {
                    "metadata": "tripAddress,出差地址,24,,aiTextArea,rows=2"
                }
            ],
            [
                {
                    "metadata": "reason,出差原因,24,,aiTextArea,rows=2"
                }
            ],
            [
                {
                    "metadata": "workContent,工作交接内容,24,,aiTextArea,rows=3"
                }
            ]
        ],
        "ASSIGNMENT": "ASSIGN_SINGLE"
    },
    "action": {
        "$opDraft": {
            "data": {
                "draft": true,
                "status": "DRAFT",
                "phase": "DRAFT"
            }
        },
        "$opOpen": {
            "validation": {
                "toUser": [
                    "required,对不起，您未指定\"处理人信息\"，流程提交必须指定处理人。"
                ]
            },
            "data": {
                "draft": false,
                "status": "PENDING",
                "phase": "PENDING"
            }
        }
    }
}